<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What's Your Romantic Archetype?</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1VKH747MPL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-1VKH747MPL');
    </script>
</head>

<body>
    <div class="background-animation"></div>

    <header class="app-top-header">
        <a href="https://arike.in/" target="_blank">
            <img src="assets/arike-logo.png" alt="Arike - Where Malayalis Date">
        </a>
    </header>

    <main class="quiz-container">
        <header class="quiz-header">
            <h1>Find your romantic character</h1>
            <p class="subtitle">Answer 10 questions to reveal your true dating character.</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </header>

        <section id="quizContent" class="quiz-content">
            <!-- Questions will be injected here by JS -->
            <div class="question-card" id="questionCard">
                <h2 id="questionText">Loading...</h2>
                <div class="options-grid" id="optionsGrid">
                    <!-- Options injected here -->
                </div>
                <div class="navigation-controls">
                    <button id="nextBtn" class="primary-btn hidden" disabled>Next</button>
                </div>
            </div>
        </section>

        <footer class="quiz-footer">
            <span id="questionCounter">Question 1 of 10</span>
        </footer>
    </main>

    <!-- Result Modal -->
    <div id="resultModal" class="modal hidden">
        <div class="modal-content">
            <button class="top-icon-btn" id="topShareBtn" aria-label="Share Result">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                    <polyline points="16 6 12 2 8 6"></polyline>
                    <line x1="12" y1="2" x2="12" y2="15"></line>
                </svg>
            </button>

            <!-- 1. Analyzing Phase -->
            <div id="analyzingLoader" class="analyzing-loader hidden">
                <div class="spinner"></div>
                <p>Analyzing your heart...</p>
            </div>

            <!-- 2. Story Phase -->
            <div id="storyContainer" class="story-container hidden">
                <p id="storyText" class="story-text"></p>
            </div>

            <!-- 3. Final Result -->
            <div id="finalResult" class="final-result hidden">
                <div class="modal-header">
                    <h3>Your Romantic Archetype Is...</h3>
                </div>
                <div class="modal-body">
                    <div class="result-content">
                        <div class="emoji-container" id="emojiContainer">
                            <div class="result-icon" id="resultIcon"></div>
                        </div>
                        <img id="resultImage" class="result-img hidden" alt="Character Image">

                        <!-- Result Title/Description injected here dynamically -->
                        <div id="resultDescription" class="result-description"></div>
                    </div>

                    <div class="app-nudge">
                        <p>Find someone who matches your vibe. </p>
                        <p>Download Arike</p>
                        <div class="store-buttons">
                            <a href="https://play.google.com/store/apps/details?id=com.arike.app&hl=en_IN&pli=1"
                                target="_blank" class="store-btn google-play">
                                <img src="assets/google-play-badge.png" alt="Get it on Google Play">
                            </a>
                            <a href="https://apps.apple.com/in/app/arike-where-malayalis-date/id1553017906"
                                target="_blank" class="store-btn app-store">
                                <img src="assets/app-store-badge.png" alt="Download on the App Store">
                            </a>
                        </div>
                    </div>

                    <div class="modal-actions">
                        <!-- Share button moved to top right -->
                        <button id="restartBtn" class="primary-btn">Retake Quiz</button>
                    </div>
                </div> <!-- Close modal-body -->
            </div> <!-- Close finalResult -->
        </div> <!-- Close modal-content -->
    </div> <!-- Close resultModal -->

    <script src="script.js"></script>
</body>

</html>